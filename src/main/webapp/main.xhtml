<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Lab9 var.21274</title>

    <script src="resources/js/check.js" type="text/javascript"/>

</h:head>
<h:body>
    <div class="spec"></div>
    <h:outputStylesheet library="css" name="style.css"  />
    <h:form id="mainForm" style="padding-left: 15px; padding-top: 15px; padding-bottom: 10px">
        <table class="tableR" border="1" cellpadding="10px" cellspacing="10px" width="100%" align="center"
               style="padding: 150px">

            <tr>

            <th colspan="2">


                    X:
                <p:inputText id="XVal" value="#{controller.point.x}"/>
                <p:slider styleClass="slide" for="XVal" step="1" minValue="-20" maxValue="20"  />

                <br/>


                Y:
                <h:inputText id="YVal" value="#{controller.point.y}" width="10px" rendered= "true" required="true"
                             requiredMessage="required" converterMessage ="not a valid number">
                    <f:validator validatorId="YValidator"/>
                </h:inputText>
               <h:message id="mesY" for="YVal"/>

                <h:commandButton styleClass="inLeft addButton" id="addButton" value="Add point">
                    <f:ajax onevent="addPoint" event="click" execute="pseudoX y pseudoR" listener="#{controller.addPoint}" render="table mesX mesY mesR"/>
                </h:commandButton>
                <h:message id="mesX" for="pseudoX"/>


                <h:inputText maxlength="5" id="pseudoX" styleClass="pseudo" value="#{controller.point.x}" rendered="true" required="true"
                             requiredMessage="required" converterMessage="not a valid number">
                    <f:validator validatorId="XValidator"/>
                </h:inputText>

                <br/>
                R:

                <p:spinner id="RVal" stepFactor="0.25" value="#{controller.point.r}" size="10"/>

                <h:inputText maxlength="5" id="pseudoR" styleClass="pseudo" value="#{controller.point.r}" rendered="true" required="true"
                             requiredMessage="required" converterMessage="not a valid number">
                    <f:validator validatorId="RValidator"/>

                </h:inputText>
                <h:message for="pseudoR" id="mesR"/>




            </th>

                <th>
                    <canvas id="canvas" class="inLeft" width="450px" height="400px"/>

                </th>
                <h:commandButton class="begin" action="toBeginning" value="В начало"/>

                <h:dataTable id="table" class="table" value="#{controller.points}" var="pin" border="1">
                    <h:column>
                        <f:facet name="header">X</f:facet>
                        #{pin.x}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Y</f:facet>
                        #{pin.y}
                    </h:column>
                    <h:column>
                        <f:facet name="header">R</f:facet>
                        #{pin.r}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Is Hitted</f:facet>
                        #{pin.hitted}
                    </h:column>
                </h:dataTable>
        </tr>
        </table>





    </h:form>

    <div class="spec"></div>
</h:body>
</html>
